(globalThis.webpackChunksen_booster=globalThis.webpackChunksen_booster||[]).push([["src_bootstrap_app_tsx-src_static_images_BG_DARK_png-src_static_images_BG_LIGHT_png-src_static-a99de8","_18f2-_0b7d-_25ed-_8131-_3fc0-_e4dd-_7bec-_ec71-_df0e-_887c-_c738-_9820-_7d1a-_b254-_ed1b-_d1-147343"],{98463:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ReactComponent:()=>A,default:()=>d});var r,n,a,o=s(92950);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},l.apply(this,arguments)}function i(e,t){let{title:s,titleId:i,...A}=e;return o.createElement("svg",l({width:96,height:96,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},A),s?o.createElement("title",{id:i},s):null,r||(r=o.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0H72C85.2548 0 96 10.7452 96 24V72C96 85.2548 85.2548 96 72 96H24C10.7452 96 0 85.2548 0 72V24Z",fill:"url(#paint0_linear_2416_5852)"})),n||(n=o.createElement("g",{clipPath:"url(#clip0_2416_5852)"},o.createElement("path",{opacity:.5,d:"M-19.5378 67.8428L-7.90562 66.2988C-8.40631 62.7153 -7.79319 59.071 -6.14948 55.8604C-4.50577 52.6498 -1.91107 50.0285 1.28247 48.3522C4.47601 46.6759 8.11373 46.0257 11.7019 46.4901C15.2901 46.9544 18.655 48.5106 21.3398 50.9476C24.0247 53.3846 25.8996 56.5843 26.71 60.1125C27.5204 63.6406 27.227 67.3264 25.8698 70.6694C24.5125 74.0125 22.1571 76.851 19.1232 78.7997C16.0892 80.7485 12.5237 81.713 8.91058 81.5625L8.49325 93.2966C14.5145 93.547 20.4562 91.9394 25.5121 88.692C30.5681 85.4445 34.4935 80.7143 36.7557 75.1433C39.0179 69.5724 39.5074 63.4303 38.1577 57.5505C36.8081 51.6708 33.6846 46.3381 29.2112 42.2759C24.7378 38.2138 19.131 35.619 13.1516 34.8435C7.17219 34.0681 1.10971 35.1496 -4.21323 37.9412C-9.53617 40.7329 -13.8618 45.0996 -16.6033 50.4487C-19.3448 55.7979 -20.3693 61.8706 -19.5378 67.8428Z",fill:"white"}),o.createElement("path",{opacity:.5,d:"M114.532 67.8418L102.9 66.2979C103.401 62.7144 102.788 59.07 101.144 55.8594C99.5002 52.6489 96.9055 50.0275 93.7119 48.3512C90.5184 46.6749 86.8807 46.0248 83.2925 46.4891C79.7043 46.9534 76.3394 48.5097 73.6545 50.9467C70.9697 53.3837 69.0948 56.5834 68.2844 60.1115C67.474 63.6396 67.7674 67.3254 69.1246 70.6685C70.4819 74.0115 72.8373 76.85 75.8712 78.7988C78.9052 80.7475 82.4706 81.712 86.0838 81.5615L86.5011 93.2956C80.4799 93.5461 74.5382 91.9385 69.4822 88.691C64.4263 85.4435 60.5009 80.7133 58.2387 75.1424C55.9765 69.5714 55.487 63.4293 56.8366 57.5496C58.1863 51.6698 61.3098 46.3371 65.7832 42.275C70.2566 38.2128 75.8634 35.618 81.8428 34.8426C87.8222 34.0671 93.8847 35.1486 99.2076 37.9402C104.531 40.7319 108.856 45.0986 111.598 50.4478C114.339 55.7969 115.364 61.8696 114.532 67.8418Z",fill:"white"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.0578 35.4505C37.9746 35.459 38.8579 35.0833 39.5174 34.4043L41.4334 32.3617C42.1385 31.61 42.9479 31.0187 43.8169 30.5877L43.8169 81.9296H51.2535L51.2535 30.5877C52.1226 31.0187 52.9319 31.61 53.637 32.3617L55.5531 34.4043C56.2125 35.0833 57.0958 35.459 58.0126 35.4505C58.9294 35.442 59.8064 35.05 60.4547 34.3589C61.103 33.6677 61.4708 32.7328 61.4787 31.7554C61.4867 30.7781 61.1343 29.8365 60.4973 29.1334L50.0074 17.9505C49.3516 17.2517 48.4624 16.8591 47.5352 16.8591C46.608 16.8591 45.7188 17.2517 45.0631 17.9505L34.5731 29.1334C33.9362 29.8365 33.5837 30.7781 33.5917 31.7554C33.5997 32.7328 33.9674 33.6677 34.6157 34.3589C35.264 35.05 36.141 35.442 37.0578 35.4505Z",fill:"white"}))),a||(a=o.createElement("defs",null,o.createElement("linearGradient",{id:"paint0_linear_2416_5852",x1:0,y1:0,x2:96,y2:96,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#0FB6B8"}),o.createElement("stop",{offset:1,stopColor:"#2FC0C2"})),o.createElement("clipPath",{id:"clip0_2416_5852"},o.createElement("rect",{width:66,height:66,fill:"white",transform:"translate(15 15)"})))))}const A=o.forwardRef(i),d=s.p+"static/media/logo.4a0c78d8a95b14284849f308aead3f6f.svg"},45597:(e,t,s)=>{"use strict";Object.defineProperty(t,"X$",{value:!0}),Object.defineProperty(t,"jY",{enumerable:!0,get:function(){return a.default}}),t.h0=void 0,Object.defineProperty(t,"ng",{enumerable:!0,get:function(){return o.default}});var r=l(s(57919)),n=l(s(96917)),a=l(s(98463)),o=l(s(83272));function l(e){return e&&e.__esModule?e:{default:e}}const i=[r.default,n.default];t.h0=i},81099:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Page:()=>Ts,__esModule:()=>Es.X$,logo:()=>Es.jY,panels:()=>Es.h0,readme:()=>Es.ng});var r=s(55754),n=s(70210),a=s(92950),o=s(45055),l=s(94751),i=s(58421),A=s(66073),d=s(45263);const c=e=>{let{boosterAddress:t}=e;const{bidMint:s,askMint:n}=(0,r.useSelector)((e=>e.boosters[t]));return(0,d.jsxs)(l.Typography.Title,{level:5,children:[(0,d.jsx)(A.MintSymbol,{mintAddress:n.toBase58()})," -"," ",(0,d.jsx)(A.MintSymbol,{mintAddress:s.toBase58()})]})};var u=s(69716);const h=e=>{let{boosterAddress:t,size:s}=e;const{bidMint:n,askMint:a}=(0,r.useSelector)((e=>e.boosters[t]));return(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(A.MintAvatar,{mintAddress:a.toBase58(),size:s}),(0,d.jsx)(u.default,{name:"arrow-forward-outline"}),(0,d.jsx)(A.MintAvatar,{mintAddress:n.toBase58(),size:s})]})};var x=s(4065),g=s(95414);const p=e=>{const[t,s]=(0,a.useState)(void 0),{getDecimals:r}=(0,n.useMint)(),o=(0,a.useCallback)((async()=>{try{const t=await r(e);return s(t)}catch(t){return s(void 0)}}),[e,r]);return(0,a.useEffect)((()=>{o()}),[o]),t};var j=s(95418);const y={appId:"sen_booster",url:"https://descartesnetwork.github.io/sen-booster/index.js"},m={development:{...y},staging:{...y},production:{...y}};var C=s(38073),b=s(33804);const f=e=>{if(!e)return!1;try{if(!new b.web3.PublicKey(e))throw new Error("Invalid public key");return!0}catch(t){return!1}},{metadata:{Metadata:B,MetadataData:w}}=C.programs,E=new b.web3.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");const I=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"devnet";this._connection=void 0,this.findDataByOwnerGroupByCollection=async e=>{if(!f(e))throw new Error("Invalid address!");const t=await B.findDataByOwner(this._connection,e);let s={};return t.forEach((e=>{e.collection&&(s[e.collection.key]=s[e.collection.key]?[...s[e.collection.key],e]:[e])})),s},this.findDataByOwner=async e=>{if(!f(e))throw new Error("Invalid address!");return await B.findDataByOwner(this._connection,e)},this.getNftMetadata=async e=>{if(!f(e))throw new Error("Invalid address!");return await B.findByMint(this._connection,e)},this.getListAccountNFTsBelongToCollection=async e=>await this._connection.getProgramAccounts(E,{commitment:"confirmed",filters:[{dataSize:679},{memcmp:{offset:368,bytes:e}}]}),this.isNftBelongsToCollection=async(e,t)=>{var s;return(null===(s=(await B.findByMint(this._connection,e)).data.collection)||void 0===s?void 0:s.key)===t},this._connection=new C.Connection(e)}},T={devnet:{node:"https://api.devnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",metaplexNFT:new I(n.rpc),senExchangeProgram:"CK8nXzNXNQaobUeJa62pPpXg9iDbCKkjwosDE3shhjr1"},testnet:{node:"https://api.testnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",metaplexNFT:new I(n.rpc),senExchangeProgram:"3GXMn8DXgNeUVtBrFfrWEDHRQ6JEgKtptWf6Bqzmo4w4"},mainnet:{node:"https://api.mainnet-beta.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",metaplexNFT:new I(n.rpc),senExchangeProgram:"3GXMn8DXgNeUVtBrFfrWEDHRQ6JEgKtptWf6Bqzmo4w4"}},v={manifest:m[n.env],sol:T[n.net]},{sol:{metaplexNFT:S}}=v,k=(e,t)=>window.notify({type:"success",description:`${e} successfully. Click to view details.`,onClick:()=>window.open(n.util.explorer(t),"_blank")}),Q=e=>window.notify({type:"error",description:e.message});const R=new(s(54882).C)("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDU4M0Q5MmIwMGJlNjZDNjg2NDUyY0JkNTZEMTlmOWZlMTRhNjhCYTQiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NTg4MDM1NjE3MTcsIm5hbWUiOiJCb29zdGVyRGV2In0.kaP_EXFB2q7Zo8_CWZfGI1n5R-AoZzfVTWpDdZ_REcM",["booster","order"]),M=e=>{const{metadata:t}=(0,r.useSelector)((t=>t.boosters[e])),[s,n]=(0,a.useState)({budget:"",payRate:{}}),[o,l]=(0,a.useState)(!0),i=(0,a.useCallback)((async()=>{try{l(!0);const e=await R.methods.booster.get(t);return n(e)}catch(e){return Q(e)}finally{l(!1)}}),[t]);return(0,a.useEffect)((()=>{i()}),[i]),{metaBooster:s,loading:o}},N=e=>{let{boosterAddress:t}=e;const{bidReserve:s,bidMint:o,bidTotal:i}=(0,r.useSelector)((e=>e.boosters[t])),{metaBooster:{budget:c},loading:u}=M(t),h=p(o.toBase58())||0,j=x.utilsBN.undecimalize(i.sub(s),h),y=(0,a.useMemo)((()=>Number(c)?Number(j)/Number(c):0),[c,j]);return(0,d.jsxs)(l.Row,{children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{justify:"space-between",children:[(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Spin,{spinning:u,size:"small",children:(0,d.jsxs)(l.Space,{direction:"vertical",children:[(0,d.jsx)(l.Typography.Text,{type:"secondary",children:"Process"}),(0,d.jsxs)(l.Typography.Text,{children:[(0,g.numeric)(j).format("0.0,[0000]")," ",(0,d.jsx)(A.MintSymbol,{mintAddress:o.toBase58()}),(0,d.jsx)(l.Typography.Text,{type:"secondary",children:`(${n.util.numeric(y).format("0,0.[00]%")})`})]})]})})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Spin,{spinning:u,size:"small",children:(0,d.jsxs)(l.Space,{direction:"vertical",align:"end",children:[(0,d.jsx)(l.Typography.Text,{type:"secondary",children:"Budget"}),(0,d.jsxs)(l.Typography.Text,{children:[(0,g.numeric)(c).format("0.0,[0000]")," ",(0,d.jsx)(A.MintSymbol,{mintAddress:o.toBase58()})]})]})})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Progress,{strokeColor:"#0FB5B8",percent:100*y,showInfo:!1,status:"active"})})]})};var z=s(40349),P=s.n(z),D=s(48744),G=s.n(D);const O=e=>{let{label:t,mintAddress:s="",align:r}=e;return(0,d.jsxs)(l.Space,{size:12,direction:"vertical",align:r,children:[(0,d.jsx)(l.Typography.Text,{children:t}),(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(A.MintAvatar,{mintAddress:s}),(0,d.jsx)(A.MintSymbol,{mintAddress:s})]})]})},L=e=>{let{label:t,value:s,mintAddress:r="",size:n=8,align:a="start"}=e;return r?(0,d.jsx)(O,{align:a,label:t,mintAddress:r}):(0,d.jsxs)(l.Space,{align:a,size:n,direction:"vertical",children:[(0,d.jsx)(l.Typography.Text,{className:"caption",type:"secondary",children:t}),s]})},Y=()=>{const e=(0,r.useSelector)((e=>e.orders)),{wallet:{address:t}}=(0,n.useWallet)();return{ownOrders:(0,a.useMemo)((()=>Object.keys(e).map((t=>({...e[t],orderAddress:t}))).filter((e=>{let{authority:s}=e;return s.toBase58()===t}))),[e,t]).sort(((e,t)=>Number(t.createAt)-Number(e.createAt)))}},F="MMM DD, YYYY HH:mm",H="all",U=86400;let W,q,V;!function(e){e.Booster="booster",e.Redeem="redeem",e.BoostList="boost-list",e.OrderList="order-list"}(W||(W={})),function(e){e.User="user",e.Retailer="retailer"}(q||(q={})),function(e){e.LPHighToLow="Lp paid: High to low",e.LPLowToHigh="Lp paid: Low to high",e.RateHighToLow="Buy-back rate: High to low",e.RateLowToHigh="Buy-back rate: Low to high"}(V||(V={}));const X=Object.entries(V).map((e=>{let[t,s]=e;return s}));let _;!function(e){e.AvailableBooster="Available booster",e.BoostOnly="Boost only",e.ExpiredBooster="Expired booster"}(_||(_={}));const K={"7 days":7,"30 days":30,"60 days":60,"90 days":90,"120 days":120,"365 days":365},Z=[{key:"Past 7 days",value:7},{key:"Past 30 days",value:30}],J={retailer:[{key:"All",value:H},{key:"Approved",value:"approved"},{key:"Reject",value:"reject"},{key:"Done",value:"done"},{key:"Open",value:"open"}],user:[{key:"All",value:H},{key:"Approved",value:"approved"},{key:"Canceled",value:"canceled"},{key:"Done",value:"done"},{key:"Waiting",value:"open"}]},$=e=>{let{boosterAddress:t}=e;const{endAt:s,askTotal:o,askMint:i,bidMint:c}=(0,r.useSelector)((e=>e.boosters[t])),u=p(i.toBase58())||0,h=p(c.toBase58())||0,{metaBooster:{payRate:g},loading:j}=M(t),{ownOrders:y}=Y(),m=(0,a.useMemo)((()=>{let e=new(G())(0);const s=y.filter((e=>{let{retailer:s}=e;return s.toBase58()===t}));for(const{state:t,bidAmount:r}of s)(t.approved||t.done)&&(e=e.add(r));return x.utilsBN.undecimalize(e,h)}),[h,t,y]),C=(0,a.useMemo)((()=>Object.keys(g).length?Math.max(...Object.values(g)):0),[g]);return(0,d.jsxs)(l.Row,{gutter:[48,16],children:[(0,d.jsx)(l.Col,{xs:12,md:5,lg:4,children:(0,d.jsx)(l.Spin,{spinning:j,size:"small",children:(0,d.jsxs)(l.Space,{direction:"vertical",className:"buy-back_tag",children:[(0,d.jsx)(l.Typography.Text,{type:"secondary",children:"Buy-back"}),(0,d.jsxs)(l.Typography.Title,{style:{color:"#0FB5B8"},level:4,children:[C,"%"]})]})})}),(0,d.jsx)(l.Col,{xs:12,md:6,lg:4,children:(0,d.jsx)(l.Spin,{spinning:j,size:"small",children:(0,d.jsx)(L,{label:"Your bought",value:(0,d.jsxs)(l.Typography.Text,{children:[n.util.numeric(m).format("0,0.[0000]")," ",(0,d.jsx)(A.MintSymbol,{mintAddress:c})]})})})}),(0,d.jsx)(l.Col,{xs:12,md:6,lg:4,children:(0,d.jsx)(l.Spin,{spinning:j,size:"small",children:(0,d.jsx)(L,{label:"Total value paid",value:(0,d.jsxs)(l.Typography.Text,{children:[n.util.numeric(x.utilsBN.undecimalize(o,u)).format("0,0.[0000]")," ","LP"]})})})}),(0,d.jsx)(l.Col,{xs:12,md:7,lg:6,children:(0,d.jsx)(l.Spin,{spinning:j,size:"small",children:(0,d.jsx)(L,{label:"End date",value:(0,d.jsx)(l.Typography.Text,{children:P()(1e3*s.toNumber()).format(F)})})})})]})},ee=e=>{let{estimatedReceive:t,boosterAddress:s,discount:a,nftDiscount:o}=e;const{bidMint:i}=(0,r.useSelector)((e=>e.boosters[s])),c=p(i.toBase58())||0;return(0,d.jsx)(l.Card,{style:{borderRadius:8},bodyStyle:{padding:"12px 16px"},children:(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsx)(l.Typography.Text,{style:{color:"#0FB5B8"},children:"Buy-back"})}),(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{children:[(0,d.jsxs)(l.Typography.Title,{style:{color:"#0FB5B8"},level:3,children:[a,"%"]}),!!o&&(0,d.jsxs)(l.Typography.Title,{style:{color:"#0FB5B8"},level:3,children:["+ ",o,"%"]})]})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsx)(l.Typography.Text,{children:"Market buy-back"})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Typography.Text,{delete:!0,children:"100%"})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsx)(l.Typography.Text,{children:"Estimated received"})}),(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Typography.Title,{level:5,children:[n.util.numeric(x.utilsBN.undecimalize(t,c)).format("0,0.[0000]")," ",(0,d.jsx)(A.MintSymbol,{mintAddress:i})]})})]})})]})})},{sol:{metaplexNFT:te}}=v,se=e=>{const[t,s]=(0,a.useState)(),[r,o]=(0,a.useState)(),[l,i]=(0,a.useState)(!1),[A,d]=(0,a.useState)(!1),c=(0,a.useCallback)((async()=>{if(!j.account.isAddress(e))return s(void 0),o(void 0);i(!0);try{const t=await n.DataLoader.load("getNftMetadata"+e,(()=>te.getNftMetadata(e)));s(t);const r=t.data.data.uri,a=await n.DataLoader.load("getNftMetadataUrl"+e,(()=>fetch(r).then((e=>e.json()))));o(a)}catch(t){d(!0)}finally{i(!1)}}),[e]);return(0,a.useEffect)((()=>{c()}),[c]),{metadata:t,nftInfo:r,loading:l,isUnknownNFT:A}},re=e=>{let{nftAddress:t,onSelect:s,isSelected:r}=e;const{ui:{width:o}}=(0,n.useUI)(),i=(0,a.useMemo)((()=>o<768?150:198),[o]),{nftInfo:A,loading:c}=se(t);return(0,d.jsx)(l.Card,{bordered:!1,style:{cursor:"pointer",textAlign:"center",background:"transparent"},bodyStyle:{padding:0},loading:c,onClick:()=>s(t,`${null===A||void 0===A?void 0:A.image}`),children:(0,d.jsxs)(l.Row,{gutter:[8,8],justify:"center",children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Image,{src:(null===A||void 0===A?void 0:A.image)||"",preview:!1,style:{borderRadius:12},width:i,height:i})}),(0,d.jsx)(l.Col,{style:{width:i},children:(0,d.jsxs)(l.Row,{justify:"space-between",gutter:[8,8],children:[(0,d.jsx)(l.Col,{flex:"auto",style:{textAlign:"start"},children:(0,d.jsx)(l.Typography.Text,{children:null===A||void 0===A?void 0:A.name})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Typography.Text,{children:n.util.shortenAddress(t)})})]})})]})})},ne=e=>{const t=(0,r.useSelector)((e=>e.voucherPrinters)),[s,n]=(0,a.useState)([]);return(0,a.useEffect)((()=>{const s=[];for(const r in t)t[r].retailer.toBase58()===e&&s.push({...t[r]});return n(s)}),[e,t]),s},{sol:{metaplexNFT:ae}}=v,oe=e=>{const[t,s]=(0,a.useState)(),[r,o]=(0,a.useState)(),{accounts:l}=(0,n.useAccount)(),i=(0,a.useCallback)((async()=>{if(!e)return s(void 0);const t=await n.DataLoader.load("findDataByOwner"+e,(()=>ae.findDataByOwner(e)));s(t)}),[e]);(0,a.useEffect)((()=>{i()}),[i]);const A=(0,a.useCallback)((async()=>{if(!t)return o(void 0);const{splt:s}=window.sentre;let r=[];return await Promise.all(t.map((async t=>{const n=await s.deriveAssociatedAddress(e,t.mint);let a=l[n];new D.BN(null===a||void 0===a?void 0:a.amount.toString()).eq(new D.BN(1))&&r.push(t)}))),o(r)}),[l,t,e]);return(0,a.useEffect)((()=>{A()}),[A]),{nfts:r}},le=e=>{let{onSelectNFT:t,boosterAddress:s,selectedNFTs:r,removeNFT:o}=e;const[i,A]=(0,a.useState)(Array(3).fill({nftAddress:"",img:""})),[c,h]=(0,a.useState)(!1),[x,g]=(0,a.useState)(0),[p,y]=(0,a.useState)([]),m=(e=>{const[t,s]=(0,a.useState)([]),{wallet:{address:r}}=(0,n.useWallet)(),{nfts:o}=oe(r),l=ne(e),i=(0,a.useCallback)((()=>{if(!l.length||!o)return[];const e=l.map((e=>e.collection.toBase58())),t=o.filter((t=>{let{collection:s}=t;return e.includes((null===s||void 0===s?void 0:s.key)||"")}));return s(t)}),[o,l]);return(0,a.useEffect)((()=>{i()}),[i]),t})(s),C=ne(s),b=(0,a.useMemo)((()=>m.filter((e=>!r.includes(e.mint)))),[m,r]),f=(0,a.useCallback)((async()=>{const e=await Promise.all(C.map((async e=>{const t=await(async e=>{if(j.account.isAddress(e))try{return await n.DataLoader.load("getNftMetadata"+e,(()=>S.getNftMetadata(e)))}catch(t){return}})(e.collection.toBase58());return(null===t||void 0===t?void 0:t.data.data.name)||"Unknown NFT"})));return y(e)}),[C]),B=(e,s)=>{t(e);const r=[...i];r[x]={nftAddress:e,img:s},A(r),h(!1)};return(0,a.useEffect)((()=>{f()}),[f]),(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{align:"center",size:8,children:[(0,d.jsx)(l.Typography.Text,{children:"Use NFTs to increase Buy-back rate"}),(0,d.jsx)(l.Tooltip,{placement:"right",title:(0,d.jsx)(l.Typography.Text,{style:{color:"#E9E9EB"},children:"Only retailer-approved NFTs can be used for this booster. There are 3 slots in all to use NFTs, with each slot used will increase the payout rate by 2.5%."}),children:(0,d.jsx)(u.default,{name:"information-circle-outline"})})]})}),(0,d.jsx)(l.Col,{onClick:e=>e,span:24,children:(0,d.jsx)(l.Space,{children:i.map(((e,t)=>{let{img:s}=e;return(0,d.jsx)(l.Tooltip,{placement:"topLeft",title:"NFTs in the collections below will be approved for this booster",children:(0,d.jsxs)(l.Card,{className:"upload-box card-nft-image-only",onClick:()=>{g(t),h(!0)},children:[s?(0,d.jsx)(l.Image,{src:s,alt:"avatar",width:64,height:64,style:{borderRadius:8,marginTop:-1},preview:!1,className:"nft-image"}):(0,d.jsx)(u.default,{name:"add-outline"}),s&&(0,d.jsx)(l.Button,{type:"text",className:"icon-delete-nft",onClick:e=>((e,t)=>{e.stopPropagation();const s=[...i],r=s.findIndex((e=>t===e.img));return o(s[r].nftAddress),-1!==r&&(s[r]={nftAddress:"",img:""}),A(s)})(e,s),icon:(0,d.jsx)(u.default,{name:"trash-outline"})})]})})}))})}),(0,d.jsx)(l.Modal,{title:(0,d.jsx)(l.Typography.Title,{level:4,children:"Select a NFT"}),visible:c,closeIcon:(0,d.jsx)(u.default,{name:"close-outline"}),onCancel:()=>h(!1),footer:null,className:"card-manage",style:{paddingBottom:0},children:(0,d.jsx)(l.Row,{gutter:[24,24],className:"scrollbar",style:{maxHeight:400},children:b.length?b.map((e=>(0,d.jsx)(l.Col,{xs:12,md:12,children:(0,d.jsx)(re,{nftAddress:e.mint,onSelect:B})},e.mint))):(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[4,4],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography,{children:"You don't have a NFT"})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography,{children:"You can buy NFTs from the collections below:"})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.List,{itemLayout:"horizontal",dataSource:p,renderItem:e=>(0,d.jsx)(l.List.Item,{children:(0,d.jsxs)(l.Space,{size:12,children:[(0,d.jsx)(l.Typography.Text,{style:{color:"#0fb5b8 "},children:"\u2022"}),(0,d.jsx)(l.Typography.Text,{style:{color:"#0fb5b8 "},children:e})]})})})})]})})})})]})};var ie=s(67763),Ae=s.n(ie);const de=()=>{const{wallet:{address:e}}=(0,n.useWallet)();return(0,a.useMemo)((()=>{const t=(0,x.getAnchorProvider)(n.rpc,e,window.sentre.wallet);return{provider:t,senExchange:new(Ae())(t,v.sol.senExchangeProgram)}}),[e])},ce=(e,t)=>{const{tokenProvider:s,getMint:r,getDecimals:o}=(0,n.useMint)(),{pools:l}=(0,n.usePool)(),[i,A]=(0,a.useState)(0),d=(0,a.useCallback)((async e=>{var r;const a=await s.findByAddress(e),o=null===a||void 0===a||null===(r=a.extensions)||void 0===r?void 0:r.coingeckoId;if(!o){if(t)throw new Error("Unknown Token");return 0}const l=(await n.util.fetchCGK(o)).price;if(!l){if(t)throw new Error("Not find on Cgk");return 0}return l}),[t,s]),c=(0,a.useCallback)((async(e,t)=>{const s=await d(e),r=await o(e);return Number(j.utils.undecimalize(t,r))*s}),[o,d]),u=(0,a.useCallback)((async e=>{const t=Object.values(l).find((t=>t.mint_lpt===e));if(!t)return 0;const{reserve_a:s,reserve_b:n,mint_a:a,mint_b:o}=t;if(s*n===BigInt(0))return 0;const{[e]:{supply:i}}=await r({address:e});return(await c(a,s)+await c(o,n))/Number(j.utils.undecimalize(i,9))}),[r,c,l]),h=(0,a.useCallback)((async e=>{try{var t;const r=await s.findByAddress(e);if(!r){const t=await u(e);return A(t)}const a=null===(t=r.extensions)||void 0===t?void 0:t.coingeckoId;if(!a)return A(0);const o=await n.util.fetchCGK(a);return A(o.price)}catch(r){return 0}}),[u,s]);return(0,a.useEffect)((()=>{h(e)}),[h,e]),i},ue=10**9,he=(e,t,s)=>j.account.isAddress(e)&&void 0!==t&&void 0!==s?{mintAddress:e,amount:t,decimals:s,balance:Number(j.utils.undecimalize(t,s))}:{amount:BigInt(0),decimals:0,balance:0},xe=e=>{const{wallet:{address:t,lamports:s}}=(0,n.useWallet)(),{accounts:r}=(0,n.useAccount)(),{amount:a,mint:o}=r[e]||{},l=p(o)||0;return j.account.isAddress(t)&&j.account.isAddress(e)?e===t?he(j.DEFAULT_EMPTY_ADDRESS,s,9):he(o,a,l):he()},ge=e=>{let{boosterAddress:t,block:s}=e;const{askMint:o}=(0,r.useSelector)((e=>e.boosters[t])),[i,c]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[y,m]=(0,a.useState)(!1),[C,f]=(0,a.useState)(0),[B,w]=(0,a.useState)("7 days"),[E,I]=(0,a.useState)([]),T=(e=>{const[t,s]=(0,a.useState)(""),{wallet:{address:r}}=(0,n.useWallet)(),o=xe(t);return(0,a.useEffect)((()=>{(async()=>{if(!j.account.isAddress(r)||!j.account.isAddress(e))return s("");const{sentre:{splt:t}}=window;try{const n=await t.deriveAssociatedAddress(r,e);s(n)}catch(n){return s("")}})()})),o})(o.toBase58()),v=ne(t),{metaBooster:{payRate:S},loading:N}=M(t),{getDecimals:z}=(0,n.useMint)(),{buy:P,loading:D}=(()=>{const e=(0,r.useSelector)((e=>e.voucherPrinters)),{senExchange:t}=de(),[s,n]=(0,a.useState)(!1),o=(0,a.useCallback)(((t,s)=>{const r=[],n=Object.keys(e).sort(((t,s)=>e[s].discount.gt(e[t].discount)?1:-1));for(const a of n){const n=e[a];let o=n.total.toNumber();if(n.retailer.toBase58()===t.toString())for(;o>0||r.length<s;)r.push(a),o-=1}if(r.length<s)throw new Error("Insufficient voucher");return r}),[e]),l=(0,a.useCallback)((async e=>{let{retailer:s,bidAmount:r,askAmount:a,lockTime:l,appliedNFTs:i,discount:A}=e;try{n(!0);const e={appliedNFTs:i,discount:A},{digest:d}=await R.methods.order.set(e),{provider:c}=t,u=new b.web3.Transaction,h=b.web3.Keypair.generate(),x=[h],{tx:g}=await t.initializeOrder({retailer:s,bidAmount:r,askAmount:a,lockTime:l,sendAndConfirm:!1,order:h,metadata:d});u.add(g);const p=o(s,i.length);await Promise.all(i.map((async(e,s)=>{const r=b.web3.Keypair.generate(),{tx:n}=await t.lockVoucher({order:h.publicKey,voucherPrinter:p[s],mintNft:e,voucher:r,sendAndConfirm:!1});x.push(r),u.add(n)})));const j=await c.sendAndConfirm(u,x);k("Initialize Order",j)}catch(d){Q(d)}finally{n(!1)}}),[o,t]);return{buy:l,loading:s}})(),O=2.5*E.length,L=(e=>{let{boosterAddress:t,amount:s,discount:n}=e;const{bidMint:o,askMint:l}=(0,r.useSelector)((e=>e.boosters[t])),i=ce(o.toBase58()),A=ce(l.toBase58()),d=p(o.toBase58())||0,c=p(l.toBase58())||0;return(0,a.useMemo)((()=>{const e=x.utilsBN.decimalize(i,d),t=x.utilsBN.decimalize(A,c),r=x.utilsBN.decimalize(s,c).mul(t);return i?r.mul(new(G())(n/100*ue)).div(e):new(G())(0)}),[s,c,A,d,i,n]).div(new(G())(ue))})({boosterAddress:t,amount:C,discount:S[B]+O});return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(l.Button,{block:!0,size:"large",type:"primary",onClick:()=>g(!0),children:"Buy Now"}),(0,d.jsx)(l.Modal,{visible:h,closeIcon:(0,d.jsx)(u.default,{name:"close-outline"}),onCancel:()=>g(!1),footer:null,className:"card-manage",title:(0,d.jsx)(l.Typography.Title,{level:4,children:"Buy token"}),children:(0,d.jsxs)(l.Row,{justify:"space-between",gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Typography.Text,{children:["Token Buy-back offering:"," ",(0,d.jsx)(l.Typography.Text,{type:"secondary",children:"Selling your LP tokens with juicy profit. No fee, no slippage. The token will be unlocked after the selected period."})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsx)(l.Typography.Text,{children:"You Pay"})}),(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Typography.Text,{type:"secondary",className:"caption",children:["Available:"," ",n.util.numeric(T.balance).format("0,0.[00]a")," ",(0,d.jsx)(A.MintSymbol,{mintAddress:o})]})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Card,{className:"user-input",style:{borderRadius:8},bodyStyle:{padding:0},children:(0,d.jsxs)(l.Row,{wrap:!1,align:"middle",children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsx)(l.InputNumber,{placeholder:"0",prefix:(0,d.jsx)(A.MintSymbol,{mintAddress:o}),value:C,onChange:f,max:Number(T.balance),style:{width:"100%"},bordered:!1})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Button,{type:"text",size:"small",style:{background:"none"},onClick:()=>f(Number(T.balance)),children:"MAX"})})]})})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{align:"center",size:8,children:[(0,d.jsx)(l.Typography.Text,{children:"Lock time"}),(0,d.jsx)(l.Tooltip,{placement:"right",title:(0,d.jsx)(l.Typography.Text,{children:"For each lock time, there will be a corresponding Buy-back rate, you will receive tokens after the selected lock time."}),children:(0,d.jsx)(u.default,{name:"information-circle-outline"})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Spin,{spinning:N,size:"small",children:(0,d.jsx)(l.Radio.Group,{size:"middle",onChange:e=>w(e.target.value),style:{width:"100%"},value:B,children:(0,d.jsx)(l.Row,{gutter:[6,6],justify:"center",children:Object.keys(S).map((e=>(0,d.jsx)(l.Col,{xs:12,md:8,children:(0,d.jsx)(l.Radio.Button,{disabled:!S[e],style:{width:"100%"},value:e,children:e})},e)))})})})}),(0,d.jsx)(l.Col,{span:24,style:{textAlign:"right"},children:(0,d.jsxs)(l.Space,{size:8,children:[(0,d.jsx)(l.Typography.Text,{children:"Boost"}),(0,d.jsx)(l.Switch,{disabled:!v.length,size:"small",checked:y,onChange:m})]})})]})}),y&&(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(le,{onSelectNFT:e=>{const t=[...E];return t.push(e),I(t)},boosterAddress:t,selectedNFTs:E,removeNFT:e=>{const t=[...E].filter((t=>t!==e));return I(t)}})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(ee,{estimatedReceive:L,boosterAddress:t,discount:S[B],nftDiscount:O})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Checkbox,{checked:i,onChange:e=>c(e.target.checked),children:"I agree with this transaction"})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Button,{size:"large",type:"primary",onClick:async()=>{const e=await z(o.toBase58()),s=K[B];await P({retailer:t,askAmount:x.utilsBN.decimalize(C,e),lockTime:new(G())(86400*s),bidAmount:L,appliedNFTs:E,discount:S[B]+O}),g(!1)},loading:D,disabled:!i||!C||!L,block:!0,children:C?"Buy":"Enter an amount"})})]})})]})},pe=()=>{const e=(0,r.useSelector)((e=>e.voucherPrinters)),t=(0,a.useCallback)((t=>{let s=0;for(const{retailer:r}of Object.values(e))r.toBase58()===t&&s++;return s}),[e]);return{getAmountVoucher:t}},je=(0,a.memo)((e=>{let{boosterAddress:t}=e;const{getAmountVoucher:s}=pe(),r=s(t),{ui:{width:a}}=(0,n.useUI)(),o=a<575;return(0,d.jsx)(l.Card,{children:(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{justify:"space-between",children:[(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{size:16,children:[(0,d.jsx)(h,{boosterAddress:t,size:32}),(0,d.jsx)(c,{boosterAddress:t}),!!r&&(0,d.jsx)(l.Tag,{children:"Boost"})]})}),!o&&(0,d.jsx)(l.Col,{children:(0,d.jsx)(ge,{boosterAddress:t})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)($,{boosterAddress:t})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(N,{boosterAddress:t})}),o&&(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(ge,{block:!0,boosterAddress:t})})]})})})),ye=e=>{let{onChange:t,boosterAddress:s}=e;const[o,i]=(0,a.useState)({category:V.LPHighToLow}),A=(0,r.useSelector)((e=>e.boosters)),{getDecimals:c}=(0,n.useMint)(),u=(0,a.useCallback)((async e=>{const{askTotal:t,askMint:s}=A[e],r=await c(s.toBase58())||0;return Number(x.utilsBN.undecimalize(t,r))}),[A,c]),h=(0,a.useCallback)((async()=>{const e={},r={},n=[...s];for(const t of n){const{metadata:s}=A[t],n=await u(t),{payRate:a}=await R.methods.booster.get(s),o=Math.max(...Object.values(a));e[t]=n,r[t]=o}const a=n.sort(((t,s)=>{const n=e[t],a=e[s],l=r[t],i=r[s];switch(o.category){case V.LPHighToLow:return a-n;case V.LPLowToHigh:return n-a;case V.RateHighToLow:return i-l;case V.RateLowToHigh:return l-i;default:return 0}}));return t(a)}),[s,A,u,t,o]);return(0,a.useEffect)((()=>{h()}),[h]),(0,d.jsx)(l.Select,{style:{width:170},onChange:e=>i({...o,category:e}),placement:"bottomRight",value:o.category,children:X.map((e=>(0,d.jsx)(l.Select.Option,{value:e,children:e},e)))})};var me=s(93253);const Ce=e=>{const t=(0,r.useSelector)((e=>e.boosters)),s=(()=>{const e=(0,r.useSelector)((e=>e.boosters));return(0,a.useMemo)((()=>Object.keys(e).filter((t=>{const{endAt:s}=e[t],r=Date.now();return 1e3*s.toNumber()>=r}))),[e])})(),[o,l]=(0,a.useState)([]),{tokenProvider:i}=(0,n.useMint)(),A=(0,a.useCallback)((async()=>{if(!e)return l(s);const r=await i.find(e),n=new Map;for(const e of r)n.set(e.address,!0);const a=[];for(const e of s){const s=t[e];(n.has(s.bidMint.toBase58())||n.has(s.askMint.toBase58()))&&a.push(e)}return l(a)}),[t,e,i,s]);return(0,me.Z)((()=>A()),300,[A]),o},be=e=>{let{onChange:t}=e;const[s,r]=(0,a.useState)(""),n=Ce(s);return(0,a.useEffect)((()=>{t(n)}),[t,n]),(0,d.jsx)(l.Input,{placeholder:"Search LP, token",value:s,prefix:s?(0,d.jsx)(l.Button,{type:"text",style:{width:"auto",height:"auto",background:"transparent",marginLeft:-7},onClick:()=>r(""),icon:(0,d.jsx)(u.default,{name:"close-outline"})}):(0,d.jsx)(u.default,{style:{fontSize:"24px",marginLeft:-5},name:"search-outline"}),onChange:e=>r(e.target.value),className:"search-input"})},fe=(0,a.memo)((e=>{let{onChange:t,setIsBoost:s}=e;const[r,n]=(0,a.useState)([]);return(0,d.jsxs)(l.Row,{gutter:[12,12],align:"middle",children:[(0,d.jsx)(l.Col,{xs:24,md:16,lg:10,children:(0,d.jsx)(be,{onChange:n})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(ye,{boosterAddress:r,onChange:t})}),(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{children:["Boost only",(0,d.jsx)(l.Switch,{onChange:s,size:"small"})]})})]})})),Be=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!1),{getAmountVoucher:n}=pe(),o=(0,a.useMemo)((()=>e.filter((e=>!(s&&!n(e))))),[e,n,s]);return(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(fe,{setIsBoost:r,onChange:t})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[16,16],children:o.length?o.map((e=>(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(i.default,{height:276,scrollContainer:"#sen-booster-scroll-lazyload",children:(0,d.jsx)(je,{boosterAddress:e})})},e))):(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Empty,{image:l.Empty.PRESENTED_IMAGE_SIMPLE,description:"No booster exist"})})})})]})},we=e=>{let{amount:t,mintAddress:s,size:r}=e;const a=p(s)||0;return(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(A.MintAvatar,{mintAddress:s,size:r}),(0,d.jsx)(l.Typography.Text,{children:n.util.numeric(x.utilsBN.undecimalize(t,a)).format("0,0.[0000]")}),(0,d.jsx)(l.Typography.Text,{type:"secondary",children:(0,d.jsx)(A.MintSymbol,{mintAddress:s})})]})},Ee=e=>{let{orderAddress:t}=e;const{retailer:s,bidAmount:n}=(0,r.useSelector)((e=>e.orders[t])),{bidMint:a}=(0,r.useSelector)((e=>e.boosters[s.toBase58()]));return(0,d.jsx)(we,{amount:n,mintAddress:a.toBase58()})},Ie=e=>{let{orderAddress:t}=e;const{retailer:s,askAmount:n}=(0,r.useSelector)((e=>e.orders[t])),{askMint:a}=(0,r.useSelector)((e=>e.boosters[s.toBase58()]));return(0,d.jsx)(we,{amount:n,mintAddress:a.toBase58()})};var Te=s(95960);const ve=e=>{let{orderAddress:t}=e;const{cancelOrder:s,loading:n}=(e=>{const t=(0,r.useSelector)((e=>e.vouchers)),{senExchange:s}=de(),[n,o]=(0,a.useState)(!1),l=(0,a.useMemo)((()=>Object.keys(t).filter((s=>t[s].order.toBase58()===e.toString()))),[e,t]);return{cancelOrder:(0,a.useCallback)((async()=>{try{o(!0);const r=new b.web3.Transaction,{provider:n}=s,{tx:a}=await s.cancel({order:e,sendAndConfirm:!1});r.add(a),l.forEach((async n=>{const{tx:a}=await s.unlockVoucher({order:e,mintNft:t[n].mintNft,voucher:n,sendAndConfirm:!1});r.add(a)}));const i=await n.sendAndConfirm(r);return k("Canceled Order",i)}catch(r){Q(r)}finally{o(!1)}}),[e,s,l,t]),loading:n}})(t);return(0,d.jsx)(l.Button,{onClick:s,loading:n,type:"ghost",children:"Cancel"})},Se=e=>{let{orderAddress:t}=e;const{redeemOrder:s,loading:r}=(()=>{const[e,t]=(0,a.useState)(!1),{senExchange:s}=de();return{redeemOrder:(0,a.useCallback)((async e=>{try{t(!0);const{txId:r}=await s.claim({order:e});k("Redeemed",r)}catch(r){Q(r)}finally{t(!1)}}),[s]),loading:e}})();return(0,d.jsx)(l.Button,{loading:r,onClick:()=>s(t),type:"primary",children:"Redeem"})},ke=e=>{let{orderState:t,orderAddress:s}=e;return t.open?(0,d.jsx)(ve,{orderAddress:s}):t.approved?(0,d.jsx)(Se,{orderAddress:s}):(0,d.jsx)(l.Button,{type:"text",onClick:()=>window.open(Te.util.explorer(s),"_blank"),children:"Detail"})},Qe={approved:[12,161,191],open:[212,177,6],rejected:[249,87,94],done:[20,224,65],canceled:[249,87,94],uninitialized:[0,0,0]},Re=e=>{let{state:t}=e;const{mode:s}=(0,r.useSelector)((e=>e.settings)),n=e=>{const s=Qe[Object.keys(t)[0]];return e?`rgba(${s[0]}, ${s[1]}, ${s[2]}, ${e})`:`rgba(${s[0]}, ${s[1]}, ${s[2]}, 1)`};return(0,d.jsx)(l.Tag,{style:{margin:0,borderRadius:4,color:n(),textTransform:"capitalize"},color:n(.1),children:s===q.User&&t.open?"Waiting":Object.keys(t)[0]})},Me=[{title:"TIME",dataIndex:"createAt",render:e=>(0,d.jsx)(l.Typography.Text,{children:P()(1e3*e.toNumber()).format(F)})},{title:"PAY",dataIndex:"orderAddress",render:e=>(0,d.jsx)(Ie,{orderAddress:e})},{title:"RECEIVE",dataIndex:"orderAddress",render:e=>(0,d.jsx)(Ee,{orderAddress:e})},{title:"LOCK TIME",dataIndex:"lockTime",render:e=>(0,d.jsxs)(l.Typography.Text,{children:[e.div(new(G())(U)).toString()," days"]})},{title:"STATUS",dataIndex:"state",render:e=>(0,d.jsx)(Re,{state:e})},{title:"ACTIONS",dataIndex:"state",render:(e,t)=>{let{orderAddress:s}=t;return(0,d.jsx)(ke,{orderState:e,orderAddress:s})}}],Ne=e=>{let{dataSource:t}=e;return(0,d.jsx)(l.Row,{children:(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Table,{columns:Me,pagination:!1,dataSource:t,rowKey:e=>e.orderAddress})})})},ze=e=>{let{onChange:t,orderList:s}=e;const[o,i]=(0,a.useState)({token:H,time:Z[0].value,status:H}),c=(()=>{const e=(0,r.useSelector)((e=>e.orders)),t=(0,r.useSelector)((e=>e.boosters)),s=(0,r.useSelector)((e=>e.settings.mode)),{wallet:{address:o}}=(0,n.useWallet)(),l=(0,a.useMemo)((()=>{let r=new Set;for(const{retailer:n,authority:a}of Object.values(e)){if(s===q.User&&a.toBase58()!==o)continue;const e=t[n.toBase58()];if(!e)continue;const{bidMint:l,askMint:i}=e;r.add(l.toBase58()),r.add(i.toBase58())}return Array.from(r)}),[t,s,e,o]);return l})(),u=(0,r.useSelector)((e=>e.boosters)),h=(0,r.useSelector)((e=>e.settings.mode)),x=(0,a.useMemo)((()=>{const e=Date.now()/1e3-o.time*U,t=s.filter((t=>{const{retailer:s,createAt:r,state:n}=t,{askMint:a,bidMint:l}=u[s.toBase58()],i=[a.toBase58(),l.toBase58()];return(o.status===H||Object.keys(n)[0]===o.status)&&(!(r.toNumber()<e)&&!(o.token!==H&&!i.includes(o.token)))}));return t}),[u,o,s]);return(0,a.useEffect)((()=>{t(x)}),[x,t]),(0,d.jsxs)(l.Row,{gutter:[12,12],children:[(0,d.jsx)(l.Col,{span:4,children:(0,d.jsxs)(l.Space,{size:4,direction:"vertical",style:{width:"100%"},children:[(0,d.jsx)(l.Typography.Text,{type:"secondary",children:"Token"}),(0,d.jsxs)(l.Select,{style:{width:"100%"},onChange:e=>i({...o,token:e}),placement:"bottomRight",value:o.token,children:[(0,d.jsx)(l.Select.Option,{value:H,children:"All token"}),c.map((e=>(0,d.jsx)(l.Select.Option,{value:e,children:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(A.MintAvatar,{mintAddress:e}),(0,d.jsx)(A.MintSymbol,{mintAddress:e})]})},e)))]})]})}),(0,d.jsx)(l.Col,{span:4,children:(0,d.jsxs)(l.Space,{size:4,direction:"vertical",style:{width:"100%"},children:[(0,d.jsx)(l.Typography.Text,{type:"secondary",children:"Time"}),(0,d.jsx)(l.Select,{style:{width:"100%"},onChange:e=>i({...o,time:e}),placement:"bottomRight",value:o.time,children:Z.map((e=>(0,d.jsx)(l.Select.Option,{value:e.value,children:e.key},e.value)))})]})}),(0,d.jsx)(l.Col,{span:4,children:(0,d.jsxs)(l.Space,{size:4,direction:"vertical",style:{width:"100%"},children:[(0,d.jsx)(l.Typography.Text,{type:"secondary",children:"Status"}),(0,d.jsx)(l.Select,{style:{width:"100%"},onChange:e=>i({...o,status:e}),placement:"bottomRight",value:o.status,children:J[h].map((e=>(0,d.jsx)(l.Select.Option,{value:e.value,children:e.key},e.value)))})]})})]})},Pe=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(1),{ownOrders:n}=Y();return(0,d.jsx)(l.Card,{bodyStyle:{padding:"24px 0px"},children:(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,style:{paddingRight:24,paddingLeft:24},children:(0,d.jsx)(ze,{orderList:n,onChange:t})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(Ne,{dataSource:e.slice(0,10*s)})}),(0,d.jsx)(l.Col,{span:24,style:{textAlign:"center"},children:(0,d.jsx)(l.Button,{onClick:()=>r(s+1),disabled:10*s>=e.length,children:"View more"})})]})})},{Panel:De}=l.Collapse,Ge=[{question:" What is the Sen Booster?",answer:"Sen Booster is an exchange that allows users to buy tokens directly at a cheaper price from retailers by selling their Liquidity pool (LP)."},{question:" How do I buy a token?",answer:"First, find the LP and token pair you want to exchange with the best Buy-back rate. Next, click the Buy now button, then enter the amount of LP you want to sell and choose the lock time with the rate that suits you. You can use NFTs to increase the Buy-back rate if necessary."},{question:" What is Buy-back rate?",answer:"It is the token exchange rate you get in proportion to the lock time from the retailers."},{question:" What is the NFT used for?",answer:"During the token purchase process, you can enable Boost toggle to use NFTs to increase the Buy-back rate, there are a total of 3 slots with each use will be added a certain rate."},{question:" When and where can I redeem my token?",answer:"In the Redeem tab, you can track your orders. After the lock time click the Redeem button to get your token."},{question:" How do I become a retailer?",answer:"Click on the icon button and enable Retailer mode then you need to create a LP and token pair to start trading."}];const Oe=function(){return(0,d.jsxs)(l.Row,{children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Title,{level:3,children:"FAQ"})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Collapse,{defaultActiveKey:["0"],bordered:!1,expandIconPosition:"end",ghost:!0,children:Ge.map(((e,t)=>(0,d.jsx)(De,{header:(0,d.jsx)(l.Typography.Text,{children:`${t+1}. ${e.question}`}),children:(0,d.jsx)(l.Typography.Text,{type:"secondary",children:e.answer})},t)))})})]})},Le=s.p+"static/media/header_banner.c63186199c62e4a75f47.png",Ye=()=>(0,d.jsx)(l.Row,{gutter:[24,24],children:(0,d.jsx)(l.Col,{style:{height:"100%",width:"100%",borderRadius:16,backgroundImage:`url(${Le})`},children:(0,d.jsxs)(l.Space,{direction:"vertical",style:{padding:24},children:[(0,d.jsx)(l.Typography.Title,{level:2,style:{fontWeight:800,color:"#0B358F"},children:"100% OTC Market built on Smart Contracts"}),(0,d.jsxs)(l.Space,{children:[(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(u.default,{name:"checkmark-circle",style:{fontSize:29,color:"#0FB5B8"}}),(0,d.jsx)(l.Typography.Title,{level:5,style:{color:"#212433"},children:"No Slippage"})]}),(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(u.default,{name:"checkmark-circle",style:{fontSize:29,color:"#0FB5B8"}}),(0,d.jsx)(l.Typography.Title,{level:5,style:{color:"#212433"},children:"No Price impact"})]})]})]})})}),Fe=e=>{let{children:t}=e;return(0,d.jsx)(l.Row,{justify:"center",children:(0,d.jsx)(l.Col,{xs:24,md:20,lg:16,children:(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(Ye,{})}),(0,d.jsx)(l.Col,{span:24,children:t})]})})})},{manifest:{appId:He}}=v,Ue=`/app/${He}`,We=()=>{const{search:e,pathname:t}=(0,o.useLocation)(),s=(0,o.useHistory)(),r=(0,a.useMemo)((()=>new URLSearchParams(e)),[e]),n=(0,a.useCallback)((e=>r.get(e)),[r]),l=(0,a.useCallback)((()=>{const e={};r.forEach(((t,s)=>{e[s]=t}));return e}),[r]),i=(0,a.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=l();!1===r&&(t=Object.assign(n,t));const a=new URLSearchParams(t);a&&(e+=`?${a.toString()}`),s.push(`${Ue}${e}`)}),[l,s]);return{getQuery:n,getAllQuery:l,pushHistory:i,appRoute:Ue,pathname:t}};var qe=s(19289);const Ve="settings",Xe={mode:q.User},_e=(0,qe.createAsyncThunk)(`${Ve}/setMode`,(async e=>({mode:e}))),Ke=(0,qe.createSlice)({name:Ve,initialState:Xe,reducers:{},extraReducers:e=>{e.addCase(_e.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,Ze=[{label:"Booster list",value:W.BoostList},{label:"Order list",value:W.OrderList}],Je=[{label:"Booster",value:W.Booster},{label:"Redeem",value:W.Redeem}],$e=e=>{let{tabId:t,setTabId:s,isRetailer:n=!1,scrollToFAQ:i}=e;const{pushHistory:A}=We(),c=(0,r.useDispatch)(),[h,x]=(0,a.useState)(!1),g=(0,o.useLocation)();(0,a.useEffect)((()=>{if(g.pathname.includes("retailer"))return x(!0);x(!1)}),[g.pathname]);return(0,d.jsxs)(l.Row,{children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsx)(l.Segmented,{options:n?Ze:Je,value:t,onChange:s,size:"large"})}),(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{size:12,children:[!h&&(0,d.jsx)(l.Button,{icon:(0,d.jsx)(u.default,{name:"arrow-down-outline"}),onClick:i,ghost:!0,children:"FAQ"}),(0,d.jsx)(l.Popover,{placement:"topRight",content:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Typography.Text,{children:"Retailer mode"}),(0,d.jsx)(l.Switch,{size:"small",checked:h,onChange:e=>e?(c(_e(q.Retailer)),A("/retailer")):(c(_e(q.User)),A("/user"))})]}),trigger:"click",overlayClassName:"slippage",children:(0,d.jsx)(l.Button,{ghost:!0,icon:(0,d.jsx)(u.default,{name:"cog-outline"})})})]})})]})};const et=function(){const[e,t]=(0,a.useState)(W.Booster),s=(0,a.useRef)(null);return(0,d.jsx)(Fe,{children:(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)($e,{tabId:e,setTabId:t,scrollToFAQ:()=>{if(s.current)return s.current.scrollIntoView()}})}),(0,d.jsx)(l.Col,{span:24,children:e===W.Booster?(0,d.jsx)(Be,{}):(0,d.jsx)(Pe,{})}),(0,d.jsx)(l.Col,{span:24,ref:s,children:(0,d.jsx)(Oe,{})})]})})};var tt=s(51518),st=s.n(tt);const rt=e=>{let{boosterAddress:t}=e;const[s,n]=(0,a.useState)({}),o=(0,r.useSelector)((e=>e.boosters[t].metadata)),i=(0,a.useCallback)((async()=>{const e=await R.methods.booster.get(o);return e.payRate?n(e.payRate):n({})}),[o]);return(0,a.useEffect)((()=>{i()}),[i]),(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Title,{level:5,children:"Pay rate"})}),(0,d.jsx)(l.Col,{span:14,children:(0,d.jsxs)(l.Row,{gutter:[4,4],children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsxs)(l.Space,{direction:"vertical",size:4,children:[(0,d.jsx)(l.Typography.Text,{type:"secondary",className:"caption",children:"Lock time"}),Object.keys(s).map((e=>(0,d.jsx)(l.Typography.Text,{children:e},e)))]})}),(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{direction:"vertical",size:4,children:[(0,d.jsx)(l.Typography.Text,{type:"secondary",className:"caption",children:"Rate"}),Object.values(s).map((e=>(0,d.jsxs)(l.Typography.Text,{children:[e," %"]},e)))]})})]})})]})},nt=e=>{let{mintAddress:t}=e;const[s,r]=(0,a.useState)(!1),{nftInfo:o}=se(t);return(0,d.jsxs)(l.Row,{align:"middle",children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsx)(l.Typography.Text,{children:null===o||void 0===o?void 0:o.name})}),(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{style:{cursor:"pointer"},children:[(0,d.jsx)(l.Typography.Text,{onClick:()=>window.open(n.util.explorer(t),"_blank"),type:"secondary",underline:!0,children:(0,g.shortenAddress)(t)}),(0,d.jsx)(l.Tooltip,{title:"Copied",visible:s,children:(0,d.jsx)(st(),{text:t,children:(0,d.jsx)(u.default,{onClick:async()=>{r(!0),await n.util.asyncWait(1500),r(!1)},name:"copy-outline"})})})]})})]})},at=e=>{let{value:t,label:s}=e;return(0,d.jsxs)(l.Row,{children:[(0,d.jsx)(l.Col,{flex:"auto",children:s}),(0,d.jsx)(l.Col,{children:t})]})},ot=e=>{let{boosterAddress:t}=e;const s=ne(t);return(0,d.jsxs)(l.Row,{gutter:[8,8],align:"middle",children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(at,{label:(0,d.jsx)(l.Typography.Title,{level:5,children:"Boost by NFT"}),value:(0,d.jsx)(l.Typography.Text,{children:s.length?"Enable":"Disable"})})}),s.map((e=>{let{collection:t}=e;return(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(nt,{mintAddress:t.toBase58()})},t.toBase58())}))]})},lt=e=>{let{boosterAddress:t}=e;const[s,o]=(0,a.useState)(""),{bidMint:i,askMint:c,startAt:h,endAt:x}=(0,r.useSelector)((e=>e.boosters[t])),{metaBooster:{budget:p},loading:j}=M(t),y=async e=>{o(e),await n.util.asyncWait(1500),o("")};return(0,d.jsx)(l.Card,{className:"card-manage-body",bordered:!1,children:(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Title,{level:5,children:"General information"})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{wrap:!1,children:[(0,d.jsx)(l.Col,{span:9,children:(0,d.jsx)(L,{label:"Buy-back LP address",value:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Typography.Text,{children:(0,g.shortenAddress)(c.toBase58())}),(0,d.jsx)(l.Tooltip,{title:"Copied",visible:s===c.toBase58(),children:(0,d.jsx)(st(),{text:c.toBase58(),children:(0,d.jsx)(l.Button,{type:"text",onClick:()=>y(c.toBase58()),icon:(0,d.jsx)(u.default,{name:"copy-outline"})})})})]})})}),(0,d.jsx)(l.Col,{span:9,children:(0,d.jsx)(L,{label:"Pay mint address",value:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Typography.Text,{children:(0,g.shortenAddress)(i.toBase58())}),(0,d.jsx)(l.Tooltip,{title:"Copied",visible:s===i.toBase58(),children:(0,d.jsx)(st(),{text:i.toBase58(),children:(0,d.jsx)(l.Button,{type:"text",onClick:()=>y(i.toBase58()),icon:(0,d.jsx)(u.default,{name:"copy-outline"})})})})]})})})]})}),(0,d.jsx)(l.Col,{span:24}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{justify:"space-between",wrap:!1,children:[(0,d.jsx)(l.Col,{span:9,children:(0,d.jsx)(L,{label:"Start date",value:(0,d.jsx)(l.Typography.Text,{children:P()(1e3*h.toNumber()).format(F)})})}),(0,d.jsx)(l.Col,{span:9,children:(0,d.jsx)(L,{label:"End date",value:(0,d.jsx)(l.Typography.Text,{children:P()(1e3*x.toNumber()).format(F)})})}),(0,d.jsx)(l.Col,{span:6,children:(0,d.jsx)(L,{label:"Budget",value:(0,d.jsx)(l.Spin,{spinning:j,size:"small",children:(0,d.jsxs)(l.Typography.Text,{children:[(0,g.numeric)(p).format("0.0,[000]")," ",(0,d.jsx)(A.MintSymbol,{mintAddress:i})]})})})})]})}),(0,d.jsx)(l.Col,{span:24}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(rt,{boosterAddress:t})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(ot,{boosterAddress:t})})]})})},it=e=>{let{boosterAddress:t}=e;const[s,n]=(0,a.useState)("0"),o=(0,r.useSelector)((e=>e.boosters[t].bidMint)),{updateBudget:i,loading:c}=(()=>{const[e,t]=(0,a.useState)(!1),{senExchange:s}=de();return{updateBudget:(0,a.useCallback)((async e=>{let{metadata:r,boosterAddress:n}=e;try{t(!0);const{txId:e}=await s.updateRetailerMetaData({retailer:n,metadata:r,sendAndConfirm:!0});k("Updated budget",e)}catch(a){Q(a)}finally{t(!1)}}),[s]),loading:e}})(),{metaBooster:u,loading:h}=M(t);return(0,a.useEffect)((()=>{n(u.budget)}),[u.budget]),(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{direction:"vertical",style:{width:"100%"},children:[(0,d.jsx)(l.Typography.Text,{children:"Amount"}),(0,d.jsx)(l.Input,{prefix:(0,d.jsx)(A.MintSymbol,{mintAddress:o.toBase58()}),value:s,defaultValue:u.budget,onChange:e=>n(e.target.value),className:"input-budget",disabled:h})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Button,{loading:c,size:"large",block:!0,type:"primary",onClick:async()=>{const e={...u,budget:s},{digest:r}=await R.methods.booster.set(e);return i({boosterAddress:t,metadata:r})},disabled:h,children:"Update"})})]})},At=e=>{let{boosterAddress:t}=e;const{freezeBooster:s,loading:r}=(()=>{const[e,t]=(0,a.useState)(!1),{senExchange:s}=de();return{freezeBooster:(0,a.useCallback)((async e=>{let{boosterAddress:r}=e;try{t(!0);const{txId:e}=await s.freezeRetailer({retailer:r,sendAndConfirm:!0});k("Freezed",e)}catch(n){Q(n)}finally{t(!1)}}),[s]),loading:e}})();return(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Badge,{status:"success"}),(0,d.jsxs)(l.Typography.Text,{type:"secondary",children:["Current status: ",(0,d.jsx)("span",{style:{color:"#212433"},children:"Active"})]})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{align:"start",children:[(0,d.jsx)(u.default,{name:"information-circle-outline"}),(0,d.jsx)(l.Typography.Text,{type:"secondary",children:"Freezing a booster will prevent all actions until the booster has been thawed."})]})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Button,{onClick:()=>s({boosterAddress:t}),block:!0,type:"primary",size:"large",loading:r,children:"Freeze"})})]})},dt=e=>{let{boosterAddress:t}=e;const{thawBooster:s,loading:r}=(()=>{const[e,t]=(0,a.useState)(!1),{senExchange:s}=de();return{thawBooster:(0,a.useCallback)((async e=>{let{boosterAddress:r}=e;try{t(!0);const{txId:e}=await s.thawRetailer({retailer:r,sendAndConfirm:!0});k("Thawed",e)}catch(n){Q(n.message)}finally{t(!1)}}),[s]),loading:e}})();return(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Badge,{status:"error"}),(0,d.jsxs)(l.Typography.Text,{type:"secondary",children:["Current status: ",(0,d.jsx)("span",{style:{color:"#F9575E"},children:"Frozen"})]})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{align:"start",children:[(0,d.jsx)(u.default,{name:"information-circle-outline"}),(0,d.jsx)(l.Typography.Text,{type:"secondary",children:"Thaw a booster will active all actions."})]})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Button,{onClick:()=>s({boosterAddress:t}),block:!0,type:"primary",size:"large",loading:r,style:{background:"#F9575E",border:"none"},children:"Thaw"})})]})},{TabPane:ct}=l.Tabs,ut=e=>{let{boosterAddress:t}=e;const[s,n]=(0,a.useState)(!1),o=(0,r.useSelector)((e=>e.boosters[t]));return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(l.Button,{ghost:!0,onClick:()=>n(!0),block:!0,children:"Manage"}),(0,d.jsx)(l.Modal,{className:"card-manage",closeIcon:(0,d.jsx)(u.default,{name:"close-outline"}),footer:null,onCancel:()=>n(!1),visible:s,title:(0,d.jsx)(l.Typography.Title,{level:4,children:"Manage booster"}),children:(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(lt,{boosterAddress:t})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Tabs,{children:[(0,d.jsx)(ct,{tab:"Budget",children:(0,d.jsx)(it,{boosterAddress:t})},"budget"),(0,d.jsx)(ct,{tab:"Freeze/Thaw",children:o.state.frozen?(0,d.jsx)(dt,{boosterAddress:t}):(0,d.jsx)(At,{boosterAddress:t})},"freeze-thaw")]})})]})})]})},ht=e=>{let{boosterAddress:t}=e;const{askMint:s,bidMint:n,startAt:a,endAt:o}=(0,r.useSelector)((e=>e.boosters[t])),i=ne(t);return(0,d.jsx)(l.Card,{children:(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{justify:"space-between",align:"middle",children:[(0,d.jsx)(l.Col,{children:(0,d.jsx)(L,{label:"Buy-back",mintAddress:s.toBase58()})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(u.default,{name:"arrow-forward-outline"})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(L,{align:"end",label:"Pay",mintAddress:n.toBase58()})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{justify:"space-between",wrap:!1,children:[(0,d.jsx)(l.Col,{children:(0,d.jsx)(L,{label:"Start date",value:(0,d.jsx)(l.Typography.Text,{children:P()(1e3*a.toNumber()).format(F)})})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(L,{label:"End date",value:(0,d.jsx)(l.Typography.Text,{children:P()(1e3*o.toNumber()).format(F)})})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(L,{label:"Boost",value:(0,d.jsx)(l.Typography.Text,{children:i.length?"Enable":"Disable"})})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(N,{boosterAddress:t})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(ut,{boosterAddress:t})})]})})},xt=()=>{const e=(0,r.useSelector)((e=>e.boosters)),{wallet:{address:t}}=(0,n.useWallet)();return{ownBoosters:(0,a.useMemo)((()=>Object.keys(e).filter((s=>e[s].authority.toBase58()===t))),[e,t])}},gt=e=>{let{onChange:t}=e;const[s,n]=(0,a.useState)(!0),[o,i]=(0,a.useState)(!0),[A,c]=(0,a.useState)(!1),{ownBoosters:u}=xt(),{getAmountVoucher:h}=pe(),x=(0,r.useSelector)((e=>e.boosters)),g=(0,a.useMemo)((()=>{const e=[];for(const t of u){const{state:r,endAt:n}=x[t],a=Date.now(),l=1e3*n.toNumber();let i=!0;s&&l<a&&(i=!1),o&&r.frozen&&(i=!1),A&&!h(t)&&(i=!1),i&&e.push(t)}return e}),[x,h,A,s,o,u]);return(0,a.useEffect)((()=>{t(g)}),[g,t]),(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Checkbox,{checked:s,onChange:e=>n(e.target.checked)}),(0,d.jsx)(l.Typography.Text,{children:"Hide expired booster"})]})}),(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Checkbox,{checked:o,onChange:e=>i(e.target.checked)}),(0,d.jsx)(l.Typography.Text,{children:"Hide freeze booster"})]})}),(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{children:["Boost only",(0,d.jsx)(l.Switch,{onChange:c,size:"small"})]})})]})},pt=()=>{const[e,t]=(0,a.useState)([]),{pushHistory:s}=We(),{ui:{width:r}}=(0,n.useUI)(),o=r<767;return(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{align:"middle",gutter:[24,24],children:[(0,d.jsx)(l.Col,{xs:24,md:20,lg:20,xl:12,children:(0,d.jsx)(gt,{onChange:t})}),(0,d.jsx)(l.Col,{xs:24,md:4,lg:4,xl:12,style:{textAlign:"right"},children:(0,d.jsx)(l.Button,{type:"primary",onClick:()=>s("/create-booster"),block:o,children:"Add booster"})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[24,24],children:e.length?e.map((e=>(0,d.jsx)(l.Col,{xs:24,md:12,children:(0,d.jsx)(ht,{boosterAddress:e})},e))):(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Empty,{image:l.Empty.PRESENTED_IMAGE_SIMPLE,description:"You have not created any booster"})})})})]})};var jt=s(17604);const yt=e=>{let{orderAddress:t}=e;const s=(0,r.useSelector)((e=>e.orders[t].state)),{approveOrder:n,loading:o}=(()=>{const[e,t]=(0,a.useState)(!1),{senExchange:s}=de();return{approveOrder:(0,a.useCallback)((async e=>{try{t(!0);const r=new b.web3.Transaction,n=new b.web3.PublicKey(e),{tx:a}=await s.approveOrder({order:n,sendAndConfirm:!1});r.add(a);const{tx:o}=await s.collectOrder({order:n,sendAndConfirm:!1});r.add(o);const{provider:l}=s,i=await l.sendAndConfirm(r);return k("Approved",i)}catch(r){Q(r)}finally{t(!1)}}),[s]),loading:e}})();return(0,d.jsx)(l.Button,{type:"primary",loading:o,disabled:!s.open,onClick:()=>n(t),children:"Approve"})},mt=e=>{let{orderAddress:t}=e;const s=(0,r.useSelector)((e=>e.orders[t].state)),{rejectOrder:n,loading:o}=(()=>{const[e,t]=(0,a.useState)(!1),{senExchange:s}=de();return{rejectOrder:(0,a.useCallback)((async e=>{let{orderAddress:r}=e;try{t(!0);const e=new b.web3.PublicKey(r),{txId:n}=await s.rejectOrder({order:e});k("Rejected",n)}catch(n){Q(n.message)}finally{t(!1)}}),[s]),loading:e}})();return(0,d.jsx)(l.Button,{loading:o,disabled:!s.open,onClick:()=>n({orderAddress:t}),children:"Reject"})},Ct=e=>{let{orderAddress:t}=e;const[s,o]=(0,a.useState)({appliedNFTs:[],discount:0}),i=(0,r.useSelector)((e=>e.orders[t])),A=(0,r.useSelector)((e=>e.boosters))[i.retailer.toBase58()].askMint.toBase58()||"",c=ce(A),u=(0,a.useCallback)((async()=>{try{const e=await R.methods.order.get(i.metadata);e&&o(e)}catch(e){(0,jt.c)(e)}}),[i.metadata]);return(0,a.useEffect)((()=>{u()}),[u]),(0,d.jsxs)(l.Row,{gutter:[8,8],align:"middle",children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsxs)(l.Row,{gutter:[48,48],children:[(0,d.jsx)(l.Col,{children:(0,d.jsx)(L,{label:"Market price",value:(0,d.jsxs)(l.Typography.Text,{children:["1 LP = ",n.util.numeric(c).format("0,0.[0000]")," USDC"]})})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(L,{label:"Used NFT slot",value:(0,d.jsx)(l.Typography.Text,{children:s.appliedNFTs?s.appliedNFTs.length:0})})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(L,{label:"Total boost rate",value:(0,d.jsxs)(l.Typography.Text,{children:[s.discount,"%"]})})})]})}),(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(mt,{orderAddress:t}),(0,d.jsx)(yt,{orderAddress:t})]})})]})},bt=e=>{let{retailerAddress:t,orderAddress:s}=e;const{askAmount:a,bidAmount:o}=(0,r.useSelector)((e=>e.orders[s])),{askMint:i,bidMint:A}=(0,r.useSelector)((e=>e.boosters[t])),c=p(A.toBase58())||0,u=p(i.toBase58())||0,h=ce(A.toBase58()),g=ce(i.toBase58()),j=Number(x.utilsBN.undecimalize(o,c)),y=Number(x.utilsBN.undecimalize(a,u))*g,m=(y-j*h)/y;return(0,d.jsx)(l.Typography.Text,{style:{color:m>=0?"#14E041":"#F9575E"},children:n.util.numeric(m).format("0,0.[00]%")})},ft=[{title:"TIME",dataIndex:"createAt",key:"createAt",render:e=>(0,d.jsx)(l.Typography.Text,{children:P()(1e3*Number(e)).format(F)})},{title:"BUY-BACK",dataIndex:"orderAddress",key:"orderAddress",render:e=>(0,d.jsx)(Ie,{orderAddress:e})},{title:"PAY",dataIndex:"orderAddress",key:"orderAddress",render:e=>(0,d.jsx)(Ee,{orderAddress:e})},{title:"LOCK TIME",dataIndex:"lockTime",key:"lockTime",render:e=>(0,d.jsxs)(l.Typography.Text,{children:[e.div(new(G())(U)).toString()," days"]})},{title:"PROFIT",key:"orderAddress",dataIndex:"orderAddress",render:(e,t)=>{let{retailer:s}=t;return(0,d.jsx)(bt,{orderAddress:e,retailerAddress:s.toBase58()})}},{title:"STATUS",key:"state",dataIndex:"state",render:e=>(0,d.jsx)(Re,{state:e})}],Bt=e=>{let{dataSource:t}=e;return(0,d.jsx)(l.Table,{columns:ft,dataSource:t,pagination:!1,rowKey:e=>e.orderAddress,expandRowByClick:!0,expandable:{expandedRowRender:e=>(0,d.jsx)(Ct,{orderAddress:e.orderAddress})}})};const wt=function(){const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(1),{orderRequests:o}=(()=>{const e=(0,r.useSelector)((e=>e.orders)),{ownBoosters:t}=xt(),s=(0,a.useMemo)((()=>Object.keys(e).map((t=>({...e[t],orderAddress:t}))).filter((e=>{let{retailer:s}=e;return t.includes(s.toBase58())}))),[t,e]);return{orderRequests:s.sort(((e,t)=>Number(t.createAt)-Number(e.createAt)))}})();return(0,d.jsx)(l.Card,{bordered:!1,children:(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(ze,{onChange:t,orderList:o})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(Bt,{dataSource:e.slice(0,10*s)})}),(0,d.jsx)(l.Col,{span:24,style:{textAlign:"center"},children:(0,d.jsx)(l.Button,{onClick:()=>n(s+1),disabled:10*s>=e.length,children:"View more"})})]})})};const Et=function(){const[e,t]=(0,a.useState)(W.BoostList);return(0,d.jsx)(Fe,{children:(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)($e,{tabId:e,setTabId:t,isRetailer:!0})}),(0,d.jsx)(l.Col,{span:24,children:e===W.BoostList?(0,d.jsx)(pt,{}):(0,d.jsx)(wt,{})})]})})},It=e=>{let{label:t,value:s}=e;return(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Text,{children:t})}),(0,d.jsx)(l.Col,{span:24,children:s})]})},Tt={dark:{padding:"4px 12px",height:40,width:"100%",background:"#232324",border:"1px solid #373947"},light:{padding:"4px 12px",height:40,width:"100%",background:"#EBEDED",border:"none"}},vt=e=>{let{onChange:t,generateData:s}=e;const{askMint:r,bidMint:a,budget:o,endTime:i,startTime:c}=s,{ui:{theme:h}}=(0,n.useUI)();return(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Title,{level:5,children:"General information"})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,className:"retailer-mint-selection",children:(0,d.jsx)(It,{label:"Buy-back",value:(0,d.jsx)(A.MintSelection,{value:r,onChange:e=>t(e,"askMint"),placeholder:"Select LP",style:{...Tt[h],textAlign:"left"}})})}),(0,d.jsx)(l.Col,{span:24,className:"retailer-mint-selection",children:(0,d.jsx)(It,{label:"Pay",value:(0,d.jsx)(A.MintSelection,{value:a,onChange:e=>t(e,"bidMint"),placeholder:"Select a token",style:{...Tt[h],textAlign:"left"}})})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(It,{label:"Budget",value:(0,d.jsx)(l.Input,{onChange:e=>t(e.target.value,"budget"),value:o,placeholder:"Input the budget amount of pay token",className:"retailer-input",size:"large"})})}),(0,d.jsx)(l.Col,{span:12,children:(0,d.jsx)(It,{label:"Start time",value:(0,d.jsx)(l.DatePicker,{placeholder:"Select time",suffixIcon:(0,d.jsx)(u.default,{name:"time-outline"}),className:"date-option",onChange:e=>t((null===e||void 0===e?void 0:e.valueOf())||0,"startTime"),clearIcon:null,value:c?P()(c):null,showTime:{showSecond:!1},placement:"bottomRight",format:F})})}),(0,d.jsx)(l.Col,{span:12,children:(0,d.jsx)(It,{label:"End time",value:(0,d.jsx)(l.DatePicker,{placeholder:"Select time",suffixIcon:(0,d.jsx)(u.default,{name:"time-outline"}),className:"date-option",onChange:e=>t((null===e||void 0===e?void 0:e.valueOf())||0,"endTime"),clearIcon:null,value:i?P()(i):null,showTime:{showSecond:!1},placement:"bottomRight",format:F})})})]})})]})},St="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAYAAACadoJwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABbySURBVHgB7d2NTht3vsfh2S5NgPDahHIQ6v1fUKW9gQhFUUoxL00INMnJzxzv5nQbz9ie+WKb55GsdovBiFnBfPx/+8evv/7rSwMAADC8Lz80AAAAIQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAA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o6OXpmM9EXW9a/Srrj0A8/EXE2AB9S64dQBPQy24r2stPgAWYwQEYEEVH69fn413vdrdfbFWp6Hzn+2Xawc0ABbnryRAT+oGtd4d39zcHJ8jIURW2/39n+PT77scQAlAd/46AvSoRkMqQupR52pUjGxtPW/++c+N5scfN6wVWVIVGJ8+ff4aHXfNhw8fx9OtnG4OMAwBAjCQuomtx9c30AGA/+OtOAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAICYjQYAAGA2X5r5fPlf5FkMkmAd32wAAAAASUVORK5CYII=",kt=e=>{let{mintAddress:t,onDelete:s}=e;const{nftInfo:r,loading:n}=se(t);return(0,d.jsxs)(l.Card,{bordered:!1,bodyStyle:{padding:10},loading:n,className:"card-nft-image-only",children:[(0,d.jsx)(l.Image,{src:(null===r||void 0===r?void 0:r.image)||St,preview:!1,style:{borderRadius:4},width:88,height:88,className:"nft-image"}),(0,d.jsx)(u.default,{onClick:()=>s(t),className:"icon-delete-nft",name:"trash-outline"})]})};var Qt=s(87408);const Rt=e=>{let{onSearch:t,loading:s=!1}=e;return(0,d.jsx)(l.Input,{prefix:(0,d.jsx)(l.Button,{type:"text",size:"small",icon:s?(0,d.jsx)(l.Spin,{indicator:(0,d.jsx)(Qt.Z,{style:{fontSize:14}})}):(0,d.jsx)(u.default,{name:"search-outline"})}),placeholder:"Search by collection address",style:{width:"100%"},onChange:e=>t(e.target.value)})},Mt=e=>{let{mintAddress:t,onSelect:s}=e;const{ui:{width:r}}=(0,n.useUI)(),o=(0,a.useMemo)((()=>r<768?150:198),[r]),{nftInfo:i,loading:A}=se(t);return(0,d.jsx)(l.Card,{bordered:!1,style:{cursor:"pointer",textAlign:"center"},bodyStyle:{padding:"15px 0 10px 0"},loading:A,onClick:()=>s(t),children:(0,d.jsxs)(l.Row,{children:[(0,d.jsx)(l.Col,{span:24,style:{textAlign:"center",width:o},children:(0,d.jsx)(l.Image,{src:(null===i||void 0===i?void 0:i.image)||St,preview:!1,style:{borderRadius:4},width:o,height:o})}),(0,d.jsx)(l.Col,{span:24,style:{textAlign:"center",paddingTop:"8px"},children:(0,d.jsx)(l.Typography.Text,{children:null===i||void 0===i?void 0:i.name})})]})})},{sol:{metaplexNFT:Nt}}=v,zt=e=>{let{onSelect:t}=e;const[s,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)([]),[A,c]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),{wallet:{address:g}}=(0,n.useWallet)(),{nfts:p}=oe(g),y=(0,a.useCallback)((async()=>{let e=[];if(!j.account.isAddress(A))return e;let t=await Nt.getNftMetadata(A);return t.data?e.push(t.data.mint):e=[],e}),[A]),m=e=>{t(e),C()},C=()=>{c(""),r(!1)},b=(0,a.useCallback)((async()=>{x(!0);let e=[];try{if(A.length>0)e=await y();else{if(!p)return;for(const{collection:t}of p){const s=null===t||void 0===t?void 0:t.key;s&&(e.includes(s)||e.push(s))}}}catch(t){return window.notify({type:"error",description:t.message})}finally{x(!1)}return i(e)}),[y,p,A.length]);return(0,a.useEffect)((()=>{b()}),[b]),(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(l.Button,{onClick:()=>r(!0),size:"large",type:"dashed",className:"btn-nft",children:(0,d.jsxs)(l.Row,{gutter:[8,8],justify:"center",children:[(0,d.jsx)(l.Col,{span:12,children:(0,d.jsx)(u.default,{style:{fontSize:24},name:"add-outline"})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Typography.Text,{children:["Add NFT ",(0,d.jsx)("br",{})," collections"]})})]})}),(0,d.jsx)(l.Modal,{className:"modal-nft-selection",visible:s,footer:!1,onCancel:C,closeIcon:(0,d.jsx)(u.default,{name:"close-outline"}),children:(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Title,{level:4,children:"Select a NFT collection"})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(Rt,{loading:h,searchText:A,onSearch:e=>c(e)})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[24,24],className:"scrollbar",style:{height:500},children:o.length>0?o.map((e=>(0,d.jsx)(l.Col,{xs:12,md:12,children:(0,d.jsx)(Mt,{mintAddress:e,onSelect:m})},e))):(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Empty,{})})})})]})})]})},Pt=()=>(0,d.jsxs)(l.Typography.Text,{style:{color:"#E9E9EB"},children:["Enable ",(0,d.jsx)("span",{style:{color:"#0FB5B8"},children:"Boost"})," means that you allow an additional rate of payment when users use NFTs. ",(0,d.jsx)("br",{})," There are 3 slots in all to use NFTs, with each slot used will increase the payout rate by 2.5%."]}),Dt=e=>{let{collections:t,onChange:s}=e;const[r,n]=(0,a.useState)(!1),o=e=>{const r=[...t],n=r.findIndex((t=>e===t));return-1!==n&&r.splice(n,1),s(r)};return(0,d.jsxs)(l.Row,{gutter:[12,12],children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Typography.Title,{level:5,children:"Boost by NFT"}),(0,d.jsx)(l.Tooltip,{placement:"bottomRight",title:(0,d.jsx)(Pt,{}),children:(0,d.jsx)(u.default,{name:"information-circle-outline"})})]})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Switch,{size:"small",onChange:e=>{e||s([]),n(e)}})}),r&&(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{size:12,children:[t.map((e=>(0,d.jsx)(kt,{onDelete:o,mintAddress:e},e))),(0,d.jsx)(zt,{onSelect:e=>{const r=[...t];return t.includes(e)||r.push(e),s(r)}})]})})]})},Gt=["7 days","30 days","60 days","90 days","120 days","365 days"],Ot=e=>{let{payRate:t,setPayRate:s}=e;return(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Typography.Title,{level:5,children:"Pay rate"}),(0,d.jsx)(l.Tooltip,{title:"You can set the pay rate to 0 at the lock time you don't want to use. But there must be at least 1 field with a ratio greater than Zero.",children:(0,d.jsx)(u.default,{name:"information-circle-outline"})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[16,16],children:Gt.map((e=>(0,d.jsx)(l.Col,{className:"pay-rate",span:12,children:(0,d.jsx)(It,{label:e,value:(0,d.jsx)(l.InputNumber,{className:"retailer-input",size:"large",placeholder:"Input rate",value:t[e],onChange:t=>s(t,e)})})},e)))})})]})},Lt=e=>{let{visible:t,setVisible:s}=e;const{pushHistory:r}=We();return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(l.Button,{size:"large",block:!0,onClick:()=>s(!0),children:"Cancel"}),(0,d.jsx)(l.Modal,{visible:t,closeIcon:(0,d.jsx)(u.default,{name:"close-outline"}),onCancel:()=>s(!1),footer:null,className:"card-lightning",style:{paddingBottom:0},children:(0,d.jsxs)(l.Row,{gutter:[32,32],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{size:15,align:"baseline",children:[(0,d.jsx)(u.default,{name:"alert-circle-outline",style:{color:"#FA8C16",fontSize:18}}),(0,d.jsxs)(l.Space,{size:4,direction:"vertical",children:[(0,d.jsx)(l.Typography.Text,{children:"Are you sure you want to cancel?"}),(0,d.jsx)(l.Typography.Text,{type:"secondary",children:"Your data will not be saved."})]})]})}),(0,d.jsx)(l.Col,{span:24,style:{textAlign:"right"},children:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Button,{onClick:()=>s(!1),type:"ghost",children:"No"}),(0,d.jsx)(l.Button,{onClick:()=>r("/retailer"),type:"primary",children:"Yes"})]})})]})})]})},Yt=()=>{const[e,t]=(0,a.useState)({}),[s,r]=(0,a.useState)([]),[n,o]=(0,a.useState)({bidMint:"",askMint:"",budget:"",startTime:0,endTime:0}),[i,A]=(0,a.useState)(!1),{initializeBooster:c,loading:u}=(()=>{const{senExchange:e}=de(),[t,s]=(0,a.useState)(!1),r=(0,a.useCallback)((async t=>{let{bidMint:r,askMint:n,startTime:a,endTime:o,budget:l,collections:i,payRate:A}=t;try{s(!0);const t={payRate:A,budget:l},{digest:d}=await R.methods.booster.set(t),c=a-Date.now(),u=o-Date.now(),{provider:h}=e,g=new b.web3.Transaction,p=b.web3.Keypair.generate(),j=[p],{tx:y}=await e.initializeRetailer({bidMint:r,askMint:n,askTotal:new(G())(0),bidTotal:new(G())(0),startAfter:new(G())(c/1e3),endAfter:new(G())(u/1e3),metadata:d,sendAndConfirm:!1,retailer:p});g.add(y);for(const s of i){const t=b.web3.Keypair.generate(),{tx:r}=await e.initializeVoucherPrinter({collection:s,discount:x.utilsBN.decimalize(.025,9),retailer:p.publicKey,total:new(G())(1e6),voucherPrinter:t,sendAndConfirm:!1});j.push(t),g.add(r)}const m=await h.sendAndConfirm(g,j);return k("Add new Booster",m)}catch(d){return Q(d)}finally{s(!1)}}),[e]);return{initializeBooster:r,loading:t}})(),{pushHistory:h}=We(),g=(0,a.useMemo)((()=>{const{askMint:t,bidMint:s,budget:r,endTime:a,startTime:o}=n,l=Object.keys(e);return!t||!s||!r||!a||!o||l.length<1}),[e,n]);return(0,d.jsx)(l.Row,{justify:"center",children:(0,d.jsx)(l.Col,{xs:24,md:16,lg:10,children:(0,d.jsx)(l.Card,{children:(0,d.jsxs)(l.Row,{gutter:[32,32],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Title,{level:4,children:"Create booster"})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(vt,{generateData:n,onChange:(e,t)=>o({...n,[t]:e})})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(Ot,{payRate:e,setPayRate:(s,r)=>{const n={...e};return n[r]=Number(s),t(n)}})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(Dt,{collections:s,onChange:r})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[12,12],children:[(0,d.jsx)(l.Col,{xs:24,md:12,children:(0,d.jsx)(Lt,{visible:i,setVisible:A})}),(0,d.jsx)(l.Col,{xs:24,md:12,children:(0,d.jsx)(l.Button,{size:"large",block:!0,onClick:async()=>{const t={...e};for(const e of Gt)t[e]||(t[e]=0);return await c({...n,payRate:t,collections:s}),h("/retailer")},loading:u,disabled:g,type:"primary",children:"Create"})})]})})]})})})})},Ft="boosters",Ht=(0,qe.createAsyncThunk)("boosters/initBoosters",(async e=>e)),Ut=(0,qe.createAsyncThunk)("boosters/upsetBooster",(async e=>{let{address:t,data:s}=e;if(!j.account.isAddress(t))throw new Error("Invalid booster address");if(!s)throw new Error("Data is empty");return{[t]:s}})),Wt=(0,qe.createSlice)({name:Ft,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Ht.fulfilled,((e,t)=>{let{payload:s}=t;return s})).addCase(Ut.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer;var qt=s(44994);const Vt={},Xt=(0,qt.r)({}),_t=e=>{const{program:t,name:s,filter:r,upset:n,init:o}=e,[l,i]=(0,a.useState)(0),[A,c]=Xt(),{accountClient:u,connection:h}=(0,a.useMemo)((()=>{var e;const r=null===t||void 0===t||null===(e=t.account)||void 0===e?void 0:e[s];return{accountClient:r,connection:r.provider.connection}}),[s,null===t||void 0===t?void 0:t.account]),g=(0,a.useCallback)((async()=>{if(void 0===Vt[s])try{Vt[s]=!0,c({...Vt,[s]:!0});const e=await u.all(),t={};for(const s of e)t[s.publicKey.toBase58()]=s.account;o(t)}catch(e){Q(e)}finally{c({...A,[s]:!1})}}),[u,o,A,s,c]),p=(0,a.useCallback)((async()=>{if(l)return;console.log("watch data");const e=h.onProgramAccountChange(u.programId,(async e=>{const r=e.accountId.toBase58(),a=e.accountInfo.data,o=t.coder.accounts.decode(s,a);n(r,o)}),"confirmed",[{dataSize:u.size},{memcmp:{offset:0,bytes:(0,x.encodeIxData)((0,x.accountDiscriminator)(s))}},...r]);i(e)}),[u.programId,u.size,h,r,s,t.coder.accounts,n,l]);return(0,a.useEffect)((()=>{g()}),[g]),(0,a.useEffect)((()=>(p(),()=>{(async()=>{l&&(await h.removeProgramAccountChangeListener(l),i(0))})()})),[h,p,l]),(0,d.jsx)(a.Fragment,{})},Kt=[],Zt=()=>{const e=(0,r.useDispatch)(),t=(0,a.useCallback)((t=>e(Ht(t))),[e]),s=(0,a.useCallback)(((t,s)=>e(Ut({address:t,data:s}))),[e]);return(0,d.jsx)(_t,{program:window.senBooster.program,name:"retailer",filter:Kt,init:t,upset:s})},Jt="orders",$t=(0,qe.createAsyncThunk)("orders/initOrders",(async e=>e)),es=(0,qe.createAsyncThunk)("orders/upsetOrder",(async e=>{let{address:t,data:s}=e;if(!j.account.isAddress(t))throw new Error("Invalid order address");if(!s)throw new Error("Data is empty");return{[t]:s}})),ts=(0,qe.createSlice)({name:Jt,initialState:{},reducers:{},extraReducers:e=>{e.addCase($t.fulfilled,((e,t)=>{let{payload:s}=t;return s})).addCase(es.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,ss=[],rs=()=>{const e=(0,r.useDispatch)(),t=(0,a.useCallback)((t=>e($t(t))),[e]),s=(0,a.useCallback)(((t,s)=>e(es({address:t,data:s}))),[e]);return(0,d.jsx)(_t,{program:window.senBooster.program,name:"order",filter:ss,init:t,upset:s})},ns="voucher",as=(0,qe.createAsyncThunk)("voucher/initVouchers",(async e=>e)),os=(0,qe.createAsyncThunk)("voucher/upsetVoucher",(async e=>{let{address:t,data:s}=e;return{[t]:s}})),ls=(0,qe.createSlice)({name:ns,initialState:{},reducers:{},extraReducers:e=>{e.addCase(as.fulfilled,((e,t)=>{let{payload:s}=t;return s})).addCase(os.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,is=[],As=()=>{const e=(0,r.useDispatch)(),t=(0,a.useCallback)((t=>e(as(t))),[e]),s=(0,a.useCallback)(((t,s)=>e(os({address:t,data:s}))),[e]);return(0,d.jsx)(_t,{program:window.senBooster.program,name:"voucher",filter:is,init:t,upset:s})},ds="voucherPrinter",cs=(0,qe.createAsyncThunk)("voucherPrinter/initVoucherPrinters",(async e=>e)),us=(0,qe.createAsyncThunk)("voucherPrinter/upsetVoucherPrinters",(async e=>{let{address:t,data:s}=e;return{[t]:s}})),hs=(0,qe.createSlice)({name:ds,initialState:{},reducers:{},extraReducers:e=>{e.addCase(cs.fulfilled,((e,t)=>{let{payload:s}=t;return s})).addCase(us.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,xs=[],gs=()=>{const e=(0,r.useDispatch)(),t=(0,a.useCallback)((t=>e(cs(t))),[e]),s=(0,a.useCallback)(((t,s)=>e(us({address:t,data:s}))),[e]);return(0,d.jsx)(_t,{program:window.senBooster.program,name:"voucherPrinter",filter:xs,init:t,upset:s})},ps=()=>(0,d.jsx)("div",{className:"loading-screen",style:{display:"block"},children:(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,style:{height:256}}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[24,24],justify:"center",children:(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{direction:"vertical",align:"center",size:32,children:[(0,d.jsx)(l.Spin,{size:"large"}),(0,d.jsx)(l.Typography.Title,{level:5,children:"Welcome to Sen Booster. The application is loading..."})]})})})})]})}),js=e=>{let{children:t}=e;const[s]=Xt(),r=(0,a.useMemo)((()=>!Object.values(s).length||Object.values(s).includes(!0)),[s]);return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(Zt,{}),(0,d.jsx)(rs,{}),(0,d.jsx)(gs,{}),(0,d.jsx)(As,{}),r?(0,d.jsx)(ps,{}):t]})},ys=e=>{let{children:t}=e;const{wallet:{address:s}}=(0,n.useWallet)(),[r,o]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=(0,x.getAnchorProvider)(n.rpc,s,window.sentre.wallet),t=new(Ae())(e,v.sol.senExchangeProgram);window.senBooster=t,o(!0)}),[s]),r?(0,d.jsx)(a.Fragment,{children:t}):null},ms=s.p+"static/media/BG_DARK.5abc7ba13b3fa80a3764.png",Cs=s.p+"static/media/BG_LIGHT.f07274a2b795636485ea.png",bs=()=>{const{setBackground:e}=(0,n.useUI)(),{appRoute:t}=We();return(0,a.useEffect)((()=>(e({light:Cs,dark:ms}),document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"})),[e]),(0,d.jsx)(ys,{children:(0,d.jsx)(js,{children:(0,d.jsx)("div",{style:{maxHeight:"calc(100vh - 100px)",overflowX:"auto"},className:"scrollbar",id:"sen-booster-scroll-lazyload",children:(0,d.jsxs)(o.Switch,{children:[(0,d.jsx)(o.Route,{path:`${t}/user`,component:et}),(0,d.jsx)(o.Route,{path:`${t}/retailer`,component:Et}),(0,d.jsx)(o.Route,{path:`${t}/create-booster`,component:Yt}),(0,d.jsx)(o.Route,{path:"*",children:(0,d.jsx)(o.Redirect,{to:`${t}/user`})})]})})})})};var fs=s(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const Bs={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e||e instanceof b.web3.PublicKey||e instanceof G()||fs.isBuffer(e)}},ws=(0,qe.configureStore)({middleware:e=>e(Bs),devTools:!1,reducer:{boosters:Wt,orders:ts,voucherPrinters:hs,settings:Ke,vouchers:ls}});var Es=s(45597);const{manifest:{appId:Is}}=v,Ts=()=>(0,d.jsx)(n.UIProvider,{appId:Is,antd:{prefixCls:Is},style:{paddingBottom:24},children:(0,d.jsx)(n.WalletProvider,{children:(0,d.jsx)(n.AccountProvider,{children:(0,d.jsx)(n.PoolProvider,{children:(0,d.jsx)(n.MintProvider,{children:(0,d.jsx)(r.Provider,{store:ws,children:(0,d.jsx)(bs,{})})})})})})})},83272:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/README.118bc629645ae59e5bd2.md"},57919:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel_1.9acba025d021f3861274.png"},96917:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel_2.3a9e7508ea2abf81e129.png"},43094:()=>{},69159:()=>{},35883:()=>{},46601:()=>{},89214:()=>{},5696:()=>{},85568:()=>{},64009:()=>{},42611:()=>{},89408:()=>{},47956:()=>{},21724:()=>{},62678:()=>{},25819:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=src_bootstrap_app_tsx-src_static_images_BG_DARK_png-src_static_images_BG_LIGHT_png-src_static-a99de8.c39a0690.chunk.js.map